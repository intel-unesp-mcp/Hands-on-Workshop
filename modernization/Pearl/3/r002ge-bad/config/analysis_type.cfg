<?xml version="1.0" encoding="UTF-8"?>
<bag xmlns:boolean="http://www.w3.org/2001/XMLSchema#boolean" xmlns:exsl="http://exslt.org/common" xmlns:int="http://www.w3.org/2001/XMLSchema#int" xmlns:str="http://exslt.org/strings" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <internal>
  <name>%CommonGeneralExplorationAtypeName</name>
  <shortName>%CommonGeneralExplorationAtypeShortName</shortName>
  <description>%CommonGeneralExplorationAtypeDescription</description>
  <abbreviation>ge</abbreviation>
  <alias>general-exploration</alias>
  <int:schemaVersion>1</int:schemaVersion>
  <int:contentVersion>1</int:contentVersion>
  <property name="helpId">configs.event_based_analysis_f1103</property>
 </internal>
 <prerequisites>
  <rule>
   <ruleExpr>$PMU == core2</ruleExpr>
   <ruleExpr>$PMU == core2p</ruleExpr>
   <ruleExpr>$PMU == corei7</ruleExpr>
   <ruleExpr>$PMU == corei7wsp</ruleExpr>
   <ruleExpr>$PMU == corei7wdp</ruleExpr>
   <ruleExpr>$PMU == corei7b</ruleExpr>
   <ruleExpr>$PMU == snb</ruleExpr>
   <ruleExpr>$PMU == snbep</ruleExpr>
   <ruleExpr>$PMU == ivytown</ruleExpr>
   <ruleExpr>$PMU == ivybridge</ruleExpr>
   <ruleExpr>$PMU == haswell</ruleExpr>
   <ruleExpr>$PMU == crystalwell</ruleExpr>
   <ruleExpr>$PMU == atom</ruleExpr>
   <ruleExpr>$PMU == silvermont</ruleExpr>
   <ruleExpr>$PMU == airmont</ruleExpr>
   <ruleExpr>$PMU == haswell_server</ruleExpr>
   <ruleExpr>$PMU == broadwell</ruleExpr>
   <ruleExpr>$PMU == broadwell_de</ruleExpr>
   <ruleExpr>$PMU == broadwell_server</ruleExpr>
   <ruleExpr>$PMU == knc</ruleExpr>
   <ruleExpr>$PMU == skylake</ruleExpr>
   <else>
    <error>%ThisAnalysisTypeIsNotApplicable</error>
   </else>
  </rule>
 </prerequisites>
 <knobs xsl:version="1.0" exsl:keep_exsl_namespace="">
  <booleanKnob id="enableStackCollection" displayName="%EnableStackCollection" cliName="enable-stack-collection">
   <xsl:choose>
    <xsl:when test="exsl:ctx('PMU') = 'knc'">
     <xsl:attribute name="boolean:visible">false</xsl:attribute>
    </xsl:when>
    <xsl:otherwise>
     <xsl:attribute name="boolean:visible">true</xsl:attribute>
    </xsl:otherwise>
   </xsl:choose>
   <description>%EnableStackCollectionDescription</description>
   <boolean:defaultValue>false</boolean:defaultValue>
  </booleanKnob>
  <booleanKnob id="collectMemoryBW" displayName="%CollectMemoryBW" cliName="collect-memory-bandwidth">
   <xsl:choose>
    <xsl:when test="(exsl:ctx('PMU') = 'knc') or (exsl:ctx('PMU') = 'corei7') or (exsl:ctx('PMU') = 'corei7wsp') or (exsl:ctx('PMU') = 'corei7wdp') or (exsl:ctx('PMU') = 'corei7b') or (exsl:ctx('PMU') = 'core2') or (exsl:ctx('PMU') = 'core2p') or (contains(exsl:ctx('androidBoardPlatform'), 'sofia'))">
     <xsl:attribute name="boolean:visible">false</xsl:attribute>
    </xsl:when>
    <xsl:otherwise>
     <xsl:attribute name="boolean:visible">true</xsl:attribute>
    </xsl:otherwise>
   </xsl:choose>
   <boolean:defaultValue>false</boolean:defaultValue>
  </booleanKnob>
  <stringKnob id="initialViewpoint" displayName="%InitialViewpoint" boolean:visible="false">
   <xsl:choose>
    <xsl:when test="(exsl:ctx('PMU') = 'corei7') or (exsl:ctx('PMU') = 'corei7wsp') or (exsl:ctx('PMU') = 'corei7wdp') or (exsl:ctx('PMU') = 'corei7b') or (exsl:ctx('PMU') = 'core2') or (exsl:ctx('PMU') = 'core2p')">
     <defaultValue>%HardwareIssuesViewpointName</defaultValue>
    </xsl:when>
    <xsl:when test="(exsl:ctx('PMU') = 'knc')">
     <defaultValue>%KNCGeneralExplorationViewpointName</defaultValue>
    </xsl:when>
    <xsl:otherwise>
     <defaultValue>%SNBGeneralExplorationViewpointName</defaultValue>
    </xsl:otherwise>
   </xsl:choose>
  </stringKnob>
  <xsl:if test="(exsl:ctx('PMU') = 'knc')">
   <booleanKnob id="enableCacheUsageMetrics" displayName="%EnableCacheUsageMetrics" cliName="enable-cache-metrics">
    <description>%EnableCacheUsageMetricsDescription</description>
    <boolean:defaultValue>true</boolean:defaultValue>
   </booleanKnob>
   <booleanKnob id="enableVPUUsageMetrics" displayName="%EnableVPUUsageMetrics" cliName="enable-vpu-metrics">
    <description>%EnableVPUUsageDescription</description>
    <boolean:defaultValue>false</boolean:defaultValue>
   </booleanKnob>
   <booleanKnob id="enableTLBUsageMetrics" displayName="%EnableTLBUsageMetrics" cliName="enable-tlb-metrics">
    <description>%EnableTLBUsageDescription</description>
    <boolean:defaultValue>false</boolean:defaultValue>
   </booleanKnob>
   <booleanKnob id="enableL2CacheEvents" displayName="%EnableL2CacheEvents" cliName="enable-l2-events">
    <description>%EnableL2CacheEventsDescription</description>
    <boolean:defaultValue>true</boolean:defaultValue>
   </booleanKnob>
  </xsl:if>
  <booleanKnob id="userTasksCollection" displayName="%UserTasksCollection" boolean:visible="true" cliName="enable-user-tasks">
   <description>%UserTasksCollectionDescription</description>
   <boolean:defaultValue>false</boolean:defaultValue>
  </booleanKnob>
 </knobs>
 <analysis xsl:version="1.0" exsl:keep_exsl_namespace="" str:keep_str_namespace="">
  <collector id="runsa">
   <collectorKnob knob="enableVTSSCollection">$enableStackCollection</collectorKnob>
   <xsl:if test="(exsl:ctx('PMU') != 'knc')">
    <boolean:collectorKnob knob="cpuGpuUsageData">true</boolean:collectorKnob>
   </xsl:if>
   <collectorKnob knob="collectUserTasksMode">$userTasksCollection</collectorKnob>
   <xsl:if test="(exsl:ctx('PMU') = 'knc')">
    <collectorKnob knob="pmuEventConfig">
     <xsl:text>CPU_CLK_UNHALTED:sa=10000000</xsl:text>
     <xsl:if test="$enableCacheUsageMetrics or $enableVPUUsageMetrics">
      <xsl:text>,INSTRUCTIONS_EXECUTED:sa=10000000</xsl:text>
      <xsl:text>,DATA_READ_MISS_OR_WRITE_MISS:sa=1000000</xsl:text>
     </xsl:if>
     <xsl:text>,DATA_READ_OR_WRITE:sa=1000000</xsl:text>
     <xsl:if test="$enableCacheUsageMetrics">
      <xsl:text>,EXEC_STAGE_CYCLES:sa=10000000</xsl:text>
      <xsl:text>,L1_DATA_HIT_INFLIGHT_PF1:sa=50000</xsl:text>
     </xsl:if>
     <xsl:if test="$enableTLBUsageMetrics">
      <xsl:text>,DATA_PAGE_WALK:sa=1000000</xsl:text>
      <xsl:text>,LONG_DATA_PAGE_WALK:sa=50000</xsl:text>
     </xsl:if>
     <xsl:if test="$enableVPUUsageMetrics">
      <xsl:text>,VPU_INSTRUCTIONS_EXECUTED:sa=10000000</xsl:text>
      <xsl:text>,VPU_ELEMENTS_ACTIVE:sa=10000000</xsl:text>
     </xsl:if>
     <xsl:if test="$enableL2CacheEvents">
      <xsl:text>,L2_DATA_READ_MISS_CACHE_FILL:sa=100000</xsl:text>
      <xsl:text>,L2_DATA_WRITE_MISS_CACHE_FILL:sa=100000</xsl:text>
      <xsl:text>,L2_DATA_READ_MISS_MEM_FILL:sa=100000</xsl:text>
      <xsl:text>,L2_DATA_WRITE_MISS_MEM_FILL:sa=100000</xsl:text>
     </xsl:if>
    </collectorKnob>
   </xsl:if>
  </collector>
  <rule>
   <ruleExpr>$PMU != null</ruleExpr>
   <rule>
    <ruleExpr>$PMU == core2</ruleExpr>
    <ruleExpr>$PMU == core2p</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">BUS_TRANS_MEM.ALL_AGENTS:,BUS_TRANS_BURST.SELF:sa=100000,CPU_CLK_UNHALTED.CORE:sa=2000000,INST_RETIRED.ANY:sa=2000000,MEM_LOAD_RETIRED.L2_LINE_MISS:sa=100000,RESOURCE_STALLS.BR_MISS_CLEAR:sa=2000000,RS_UOPS_DISPATCHED.CYCLES_NONE:sa=2000000,MEM_LOAD_RETIRED.L2_MISS:,CYCLES_L1I_MEM_STALLED:,BR_MISSP_EXEC:,CPU_CLK_UNHALTED.REF:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == corei7</ruleExpr>
    <ruleExpr>$PMU == corei7w</ruleExpr>
    <ruleExpr>$PMU == nhm</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,CPU_CLK_UNHALTED.REF_P:,CPU_CLK_UNHALTED.THREAD:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,INST_RETIRED.ANY:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_MISS:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.LOCAL_DRAM:,MEM_UNCORE_RETIRED.OTHER_CORE_L2_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,OFFCORE_RESPONSE_0.ANY_DATA.IO_CSR_MMIO:,OFFCORE_RESPONSE_0.DATA_IN.ANY_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == corei7wsp</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,CPU_CLK_UNHALTED.REF_P:,CPU_CLK_UNHALTED.THREAD:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,INST_RETIRED.ANY:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_MISS:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.LOCAL_DRAM:,MEM_UNCORE_RETIRED.OTHER_CORE_L2_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == corei7wdp</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,CPU_CLK_UNHALTED.REF_P:,CPU_CLK_UNHALTED.THREAD:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,INST_RETIRED.ANY:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_MISS:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == corei7b</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">ARITH.CYCLES_DIV_BUSY:,ARITH.DIV:,ARITH.MUL:,BR_INST_RETIRED.ALL_BRANCHES:,BR_INST_RETIRED.NEAR_CALL:,BR_MISP_EXEC.ANY:,CACHE_LOCK_CYCLES.L1D:,CPU_CLK_UNHALTED.REF_P:,CPU_CLK_UNHALTED.THREAD:,DTLB_MISSES.ANY:,FP_MMX_TRANS.ANY:,ILD_STALL.ANY:,ILD_STALL.IQ_FULL:,ILD_STALL.LCP:,ILD_STALL.MRU:,ILD_STALL.REGEN:,INST_RETIRED.ANY:,ITLB_MISS_RETIRED:,L1I.CYCLES_STALLED:,L1I.MISSES:,LOAD_HIT_PRE:,MACHINE_CLEARS.CYCLES:,MEM_INST_RETIRED.LATENCY_ABOVE_THRESHOLD_32:,MEM_INST_RETIRED.LOADS:,MEM_INST_RETIRED.STORES:,MEM_LOAD_RETIRED.HIT_LFB:,MEM_LOAD_RETIRED.L1D_HIT:,MEM_LOAD_RETIRED.L2_HIT:,MEM_LOAD_RETIRED.LLC_UNSHARED_HIT:,MEM_LOAD_RETIRED.OTHER_CORE_L2_HIT_HITM:,MEM_UNCORE_RETIRED.LOCAL_DRAM:,MEM_UNCORE_RETIRED.OTHER_CORE_L2_HITM:,MEM_UNCORE_RETIRED.REMOTE_DRAM:,OFFCORE_RESPONSE_0.ANY_DATA.IO_CSR_MMIO:,OFFCORE_RESPONSE_0.DATA_IN.ANY_DRAM:,OFFCORE_RESPONSE_0.DEMAND_DATA_RD.ANY_LLC_MISS:,PARTIAL_ADDRESS_ALIAS:,RAT_STALLS.ANY:,RAT_STALLS.FLAGS:,RAT_STALLS.REGISTERS:,RAT_STALLS.ROB_READ_PORT:,RESOURCE_STALLS.ANY:,RESOURCE_STALLS.LOAD:,RESOURCE_STALLS.ROB_FULL:,RESOURCE_STALLS.RS_FULL:,RESOURCE_STALLS.STORE:,SQ_FULL_STALL_CYCLES:,UOPS_EXECUTED.CORE_STALL_CYCLES:,UOPS_ISSUED.ANY:,UOPS_ISSUED.CORE_STALL_CYCLES:,UOPS_ISSUED.FUSED:,UOPS_RETIRED.ANY:,UOPS_RETIRED.STALL_CYCLES:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == snbep</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">ARITH.FPU_DIV_ACTIVE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,CPU_CLK_UNHALTED.REF_TSC:,CPU_CLK_UNHALTED.THREAD:,DSB2MITE_SWITCHES.PENALTY_CYCLES:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,ICACHE.MISSES:,IDQ.MS_CYCLES:,IDQ_UOPS_NOT_DELIVERED.CORE:,INST_RETIRED.ANY:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_NONE:,MEM_LOAD_UOPS_RETIRED.LLC_MISS:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,OFFCORE_RESPONSE.ALL_DEMAND_MLC_PREF_READS.LLC_MISS.ANY_RESPONSE_1:,OFFCORE_RESPONSE.ALL_DEMAND_MLC_PREF_READS.LLC_MISS.LOCAL_DRAM_0:,OFFCORE_RESPONSE.ALL_DEMAND_MLC_PREF_READS.LLC_MISS.REMOTE_HITM_HIT_FORWARD_1:,OFFCORE_RESPONSE.DEMAND_DATA_RD.LLC_MISS.LOCAL_DRAM_0:,OFFCORE_RESPONSE.PF_L2_DATA_RD.LLC_MISS.LOCAL_DRAM_0:,PARTIAL_RAT_STALLS.FLAGS_MERGE_UOP_CYCLES:,PARTIAL_RAT_STALLS.SLOW_LEA_WINDOW:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,CPU_CLK_UNHALTED.THREAD_P,ITLB_MISSES.STLB_HIT</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == ivybridge</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">CYCLE_ACTIVITY.STALLS_LDM_PENDING:,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE:,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD:cmask=6,FP_COMP_OPS_EXE.SSE_PACKED_DOUBLE:,FP_COMP_OPS_EXE.SSE_PACKED_SINGLE:,SIMD_FP_256.PACKED_SINGLE:,SIMD_FP_256.PACKED_DOUBLE:,UOPS_EXECUTED.THREAD:,FP_COMP_OPS_EXE.SSE_SCALAR_SINGLE:,FP_COMP_OPS_EXE.SSE_SCALAR_DOUBLE:,FP_COMP_OPS_EXE.X87:,BACLEARS.ANY:,OFFCORE_RESPONSE.DEMAND_RFO.LLC_HIT.HITM_OTHER_CORE_0:,MACHINE_CLEARS.COUNT:,LD_BLOCKS.NO_SR:,MEM_LOAD_UOPS_RETIRED.L1_MISS:,L1D_PEND_MISS.PENDING:,DSB2MITE_SWITCHES.PENALTY_CYCLES:,RS_EVENTS.EMPTY_END:,ICACHE.IFETCH_STALL:,RS_EVENTS.EMPTY_CYCLES:,RESOURCE_STALLS.SB:,DTLB_STORE_MISSES.WALK_DURATION:,DTLB_STORE_MISSES.STLB_HIT:,MEM_LOAD_UOPS_RETIRED.LLC_MISS_PS:,IDQ.MS_UOPS:,ILD_STALL.LCP:,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC:,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC:,CYCLE_ACTIVITY.STALLS_L1D_PENDING:,CYCLE_ACTIVITY.STALLS_L2_PENDING:,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC:,IDQ.ALL_MITE_CYCLES_4_UOPS:,IDQ.ALL_MITE_CYCLES_ANY_UOPS:,IDQ.ALL_DSB_CYCLES_4_UOPS:,IDQ.ALL_DSB_CYCLES_ANY_UOPS:,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE:,ARITH.FPU_DIV_ACTIVE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,CPU_CLK_UNHALTED.REF_TSC:,CPU_CLK_UNHALTED.THREAD:,ICACHE.MISSES:,IDQ_UOPS_NOT_DELIVERED.CORE:,INST_RETIRED.ANY:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS:,MEM_LOAD_UOPS_LLC_MISS_RETIRED.LOCAL_DRAM:,MEM_LOAD_UOPS_RETIRED.LLC_HIT_PS:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,OFFCORE_RESPONSE.ALL_DATA_RD.LLC_MISS.DRAM_0:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,CPU_CLK_UNHALTED.THREAD_P:,MEM_LOAD_UOPS_RETIRED.HIT_LFB,ITLB_MISSES.STLB_HIT,LSD.CYCLES_ACTIVE,LSD.CYCLES_4_UOPS,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_MISS_PS,OTHER_ASSISTS.ANY_WB_ASSIST,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,MEM_UOPS_RETIRED.LOCK_LOADS_PS,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,OFFCORE_REQUESTS_BUFFER.SQ_FULL</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == ivytown</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">CYCLE_ACTIVITY.STALLS_LDM_PENDING:,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE:,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD:cmask=6,FP_COMP_OPS_EXE.SSE_PACKED_DOUBLE:,FP_COMP_OPS_EXE.SSE_PACKED_SINGLE:,SIMD_FP_256.PACKED_SINGLE:,SIMD_FP_256.PACKED_DOUBLE:,UOPS_EXECUTED.THREAD:,FP_COMP_OPS_EXE.SSE_SCALAR_SINGLE:,FP_COMP_OPS_EXE.SSE_SCALAR_DOUBLE:,FP_COMP_OPS_EXE.X87:,BACLEARS.ANY:,OFFCORE_RESPONSE.DEMAND_RFO.LLC_HIT.HITM_OTHER_CORE_0:,MACHINE_CLEARS.COUNT:,LD_BLOCKS.NO_SR:,MEM_LOAD_UOPS_RETIRED.L1_MISS:,L1D_PEND_MISS.PENDING:,DSB2MITE_SWITCHES.PENALTY_CYCLES:,RS_EVENTS.EMPTY_END:,ICACHE.IFETCH_STALL:,RS_EVENTS.EMPTY_CYCLES:,RESOURCE_STALLS.SB:,DTLB_STORE_MISSES.WALK_DURATION:,DTLB_STORE_MISSES.STLB_HIT:,MEM_LOAD_UOPS_RETIRED.LLC_MISS_PS:,IDQ.MS_UOPS:,ILD_STALL.LCP:,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC:,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC:,CYCLE_ACTIVITY.STALLS_L1D_PENDING:,CYCLE_ACTIVITY.STALLS_L2_PENDING:,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC:,IDQ.ALL_MITE_CYCLES_4_UOPS:,IDQ.ALL_MITE_CYCLES_ANY_UOPS:,IDQ.ALL_DSB_CYCLES_4_UOPS:,IDQ.ALL_DSB_CYCLES_ANY_UOPS:,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE:,ARITH.FPU_DIV_ACTIVE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,CPU_CLK_UNHALTED.REF_TSC:,CPU_CLK_UNHALTED.THREAD:,DTLB_LOAD_MISSES.WALK_DURATION:,ICACHE.MISSES:,IDQ_UOPS_NOT_DELIVERED.CORE:,INST_RETIRED.ANY:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS:,MEM_LOAD_UOPS_LLC_MISS_RETIRED.LOCAL_DRAM:,MEM_LOAD_UOPS_RETIRED.LLC_HIT_PS:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,OFFCORE_RESPONSE.DEMAND_DATA_RD.LLC_MISS.ANY_DRAM_0:,DTLB_LOAD_MISSES.STLB_HIT:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,MEM_LOAD_UOPS_LLC_MISS_RETIRED.REMOTE_DRAM:,MEM_LOAD_UOPS_LLC_MISS_RETIRED.REMOTE_HITM:,MEM_LOAD_UOPS_LLC_MISS_RETIRED.REMOTE_FWD:,CPU_CLK_UNHALTED.THREAD_P,IDQ.MS_SWITCHES,MEM_LOAD_UOPS_RETIRED.HIT_LFB,ITLB_MISSES.STLB_HIT,LSD.CYCLES_ACTIVE,LSD.CYCLES_4_UOPS,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_MISS_PS,OTHER_ASSISTS.ANY_WB_ASSIST,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,MEM_UOPS_RETIRED.LOCK_LOADS_PS,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,OFFCORE_REQUESTS_BUFFER.SQ_FULL</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == snb</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">ARITH.FPU_DIV_ACTIVE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,CPU_CLK_UNHALTED.REF_TSC:,CPU_CLK_UNHALTED.THREAD:,DSB2MITE_SWITCHES.PENALTY_CYCLES:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,ICACHE.MISSES:,IDQ.MS_CYCLES:,IDQ_UOPS_NOT_DELIVERED.CORE:,INST_RETIRED.ANY:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS:,MEM_LOAD_UOPS_MISC_RETIRED.LLC_MISS_PS:,MEM_LOAD_UOPS_RETIRED.LLC_HIT_PS:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,PARTIAL_RAT_STALLS.FLAGS_MERGE_UOP_CYCLES:,PARTIAL_RAT_STALLS.SLOW_LEA_WINDOW:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,CPU_CLK_UNHALTED.THREAD_P:,ITLB_MISSES.STLB_HIT</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == haswell</ruleExpr>
    <ruleExpr>$PMU == crystalwell</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">CYCLE_ACTIVITY.STALLS_LDM_PENDING:,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE:,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD_GE_6,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS:,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,DTLB_STORE_MISSES.STLB_HIT:,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_RETIRED.L1_MISS:,L1D_PEND_MISS.PENDING:,RS_EVENTS.EMPTY_CYCLES:,RESOURCE_STALLS.SB:,DTLB_STORE_MISSES.WALK_DURATION:,IDQ.MS_UOPS:,ILD_STALL.LCP:,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC:,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC:,IDQ.ALL_MITE_CYCLES_4_UOPS:,IDQ.ALL_MITE_CYCLES_ANY_UOPS:,IDQ.ALL_DSB_CYCLES_4_UOPS:,IDQ.ALL_DSB_CYCLES_ANY_UOPS:,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,CPU_CLK_UNHALTED.REF_TSC:,CPU_CLK_UNHALTED.THREAD:,ICACHE.MISSES:,IDQ_UOPS_NOT_DELIVERED.CORE:,INST_RETIRED.ANY:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,CPU_CLK_UNHALTED.THREAD_P:,CYCLE_ACTIVITY.STALLS_L1D_PENDING,CYCLE_ACTIVITY.STALLS_L2_PENDING,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,LD_BLOCKS.NO_SR,MACHINE_CLEARS.COUNT,RS_EVENTS.EMPTY_END:sa=200003,IDQ.MS_SWITCHES,BACLEARS.ANY,DSB2MITE_SWITCHES.PENALTY_CYCLES,MEM_LOAD_UOPS_RETIRED.HIT_LFB,ITLB_MISSES.STLB_HIT,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.HITM_OTHER_CORE,OTHER_ASSISTS.ANY_WB_ASSIST,UOPS_EXECUTED.CORE_CYCLES_GE_1,MEM_UOPS_RETIRED.LOCK_LOADS_PS,L1D_PEND_MISS.REQUEST_FB_FULL:cmask=1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,OFFCORE_REQUESTS_BUFFER.SQ_FULL,LSD.CYCLES_4_UOPS,LSD.CYCLES_ACTIVE,ICACHE.IFDATA_STALL,ARITH.DIVIDER_UOPS</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == haswell_server</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">CYCLE_ACTIVITY.STALLS_LDM_PENDING:,CYCLE_ACTIVITY.CYCLES_NO_EXECUTE:,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_DRAM_PS:,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_HITM_PS:,MEM_LOAD_UOPS_L3_MISS_RETIRED.REMOTE_FWD_PS:,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD_GE_6,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS:,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS:,DTLB_LOAD_MISSES.STLB_HIT:,DTLB_LOAD_MISSES.WALK_DURATION:,MEM_LOAD_UOPS_L3_MISS_RETIRED.LOCAL_DRAM_PS:,DTLB_STORE_MISSES.STLB_HIT:,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_RETIRED.L1_MISS:,L1D_PEND_MISS.PENDING:,RS_EVENTS.EMPTY_CYCLES:,RESOURCE_STALLS.SB:,DTLB_STORE_MISSES.WALK_DURATION:,IDQ.MS_UOPS:,ILD_STALL.LCP:,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC:,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC:,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC:,IDQ.ALL_MITE_CYCLES_4_UOPS:,IDQ.ALL_MITE_CYCLES_ANY_UOPS:,IDQ.ALL_DSB_CYCLES_4_UOPS:,IDQ.ALL_DSB_CYCLES_ANY_UOPS:,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE:,BR_MISP_RETIRED.ALL_BRANCHES_PS:,CPU_CLK_UNHALTED.REF_TSC:,CPU_CLK_UNHALTED.THREAD:,ICACHE.MISSES:,IDQ_UOPS_NOT_DELIVERED.CORE:,INST_RETIRED.ANY:,ITLB_MISSES.WALK_DURATION:,L1D.REPLACEMENT:,L2_LINES_IN.ALL:,LD_BLOCKS.STORE_FORWARD:,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS:,MACHINE_CLEARS.MASKMOV:,MACHINE_CLEARS.MEMORY_ORDERING:,MACHINE_CLEARS.SMC:,MEM_UOPS_RETIRED.ALL_STORES_PS:,MEM_UOPS_RETIRED.SPLIT_LOADS_PS:,MEM_UOPS_RETIRED.SPLIT_STORES_PS:,UOPS_ISSUED.ANY:,UOPS_RETIRED.RETIRE_SLOTS:,INT_MISC.RECOVERY_CYCLES:,CPU_CLK_UNHALTED.THREAD_P:,CYCLE_ACTIVITY.STALLS_L1D_PENDING,CYCLE_ACTIVITY.STALLS_L2_PENDING,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,LD_BLOCKS.NO_SR,MACHINE_CLEARS.COUNT,RS_EVENTS.EMPTY_END:sa=200003,IDQ.MS_SWITCHES,BACLEARS.ANY,DSB2MITE_SWITCHES.PENALTY_CYCLES,MEM_LOAD_UOPS_RETIRED.HIT_LFB,ITLB_MISSES.STLB_HIT,LSD.CYCLES_ACTIVE:sa=2000003,LSD.CYCLES_4_UOPS:sa=2000003,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,OFFCORE_RESPONSE:request=DEMAND_RFO:response=LLC_HIT.HITM_OTHER_CORE,OFFCORE_RESPONSE:request=DEMAND_RFO:response=LLC_MISS.REMOTE_HITM,OTHER_ASSISTS.ANY_WB_ASSIST,MEM_UOPS_RETIRED.LOCK_LOADS_PS,L1D_PEND_MISS.REQUEST_FB_FULL:cmask=1,UOPS_EXECUTED.CORE_CYCLES_GE_1,UOPS_EXECUTED.CORE_CYCLES_GE_2,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,OFFCORE_REQUESTS_BUFFER.SQ_FULL,ICACHE.IFDATA_STALL,ARITH.DIVIDER_UOPS</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == atom</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">BR_INST_RETIRED.MISPRED.PS:,BUS_LOCK_CLOCKS.ALL_AGENTS:,CPU_CLK_UNHALTED.CORE:,CPU_CLK_UNHALTED.REF:,CYCLES_DIV_BUSY:,DATA_TLB_MISSES.DTLB_MISS:,EXT_SNOOP.ALL_AGENTS.HITM:,FP_ASSIST.S:,ICACHE.MISSES:,INST_RETIRED.ANY:,ITLB.MISSES:,MACHINE_CLEARS.SMC:,MEM_LOAD_RETIRED.L2_HIT.PS:,MEM_LOAD_RETIRED.L2_MISS.PS:,MISALIGN_MEM_REF.LD_SPLIT.AR:,MISALIGN_MEM_REF.ST_SPLIT.AR:,PAGE_WALKS.CYCLES:,REISSUE.OVERLAP_STORE.AR:,SIMD_ASSIST:,UOPS.MS_CYCLES:,UOPS_RETIRED.ANY:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == silvermont</ruleExpr>
    <ruleExpr>$PMU == airmont</ruleExpr>
    <xsl:choose>
     <xsl:when test="contains(exsl:ctx('androidBoardPlatform'), 'sofia')">
      <collector idToAppend="runsa">
       <collectorKnob knob="pmuEventConfig">NO_ALLOC_CYCLES.NOT_DELIVERED,NO_ALLOC_CYCLES.MISPREDICTS,OFFCORE_RESPONSE:request=BUS_LOCKS:response=ANY_RESPONSE,CPU_CLK_UNHALTED.CORE,INST_RETIRED.ANY,UOPS_RETIRED.ALL,UOPS_RETIRED.MS,MACHINE_CLEARS.FP_ASSIST,MEM_UOPS_RETIRED.L2_MISS_LOADS,MEM_UOPS_RETIRED.L2_HIT_LOADS,PAGE_WALKS.D_SIDE_WALKS,PAGE_WALKS.D_SIDE_CYCLES,PAGE_WALKS.I_SIDE_WALKS,PAGE_WALKS.I_SIDE_CYCLES,MEM_UOPS_RETIRED.HITM,MACHINE_CLEARS.MEMORY_ORDERING,MACHINE_CLEARS.SMC,CYCLES_DIV_BUSY.ALL,ICACHE.MISSES,REHABQ.LD_SPLITS,REHABQ.ST_SPLITS,REHABQ.LD_BLOCK_ST_FORWARD,BR_INST_RETIRED.FAR_BRANCH,MEM_UOPS_RETIRED.DTLB_MISS_LOADS,BR_MISP_RETIRED.ALL_BRANCHES</collectorKnob>
      </collector>
     </xsl:when>
     <xsl:otherwise>
      <collector idToAppend="runsa">
       <collectorKnob knob="pmuEventConfig">NO_ALLOC_CYCLES.NOT_DELIVERED,NO_ALLOC_CYCLES.MISPREDICTS,OFFCORE_RESPONSE:request=BUS_LOCKS:response=ANY_RESPONSE,CPU_CLK_UNHALTED.CORE,INST_RETIRED.ANY,UOPS_RETIRED.ALL,UOPS_RETIRED.MS,MACHINE_CLEARS.FP_ASSIST,MEM_UOPS_RETIRED.L2_MISS_LOADS_PS,MEM_UOPS_RETIRED.L2_HIT_LOADS_PS,PAGE_WALKS.D_SIDE_WALKS,PAGE_WALKS.D_SIDE_CYCLES,PAGE_WALKS.I_SIDE_WALKS,PAGE_WALKS.I_SIDE_CYCLES,MEM_UOPS_RETIRED.HITM_PS,MACHINE_CLEARS.MEMORY_ORDERING,MACHINE_CLEARS.SMC,CYCLES_DIV_BUSY.ALL,ICACHE.MISSES,REHABQ.LD_SPLITS_PS,REHABQ.ST_SPLITS,REHABQ.LD_BLOCK_ST_FORWARD_PS,BR_INST_RETIRED.FAR_BRANCH_PS,MEM_UOPS_RETIRED.DTLB_MISS_LOADS_PS,BR_MISP_RETIRED.ALL_BRANCHES_PS</collectorKnob>
      </collector>
     </xsl:otherwise>
    </xsl:choose>
   </rule>
   <rule>
    <ruleExpr>$PMU == broadwell</ruleExpr>
    <ruleExpr>$PMU == broadwell_de</ruleExpr>
    <ruleExpr>$PMU == broadwell_server</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">CYCLE_ACTIVITY.CYCLES_NO_EXECUTE:,ARITH.FPU_DIV_ACTIVE,BACLEARS.ANY,BR_INST_RETIRED.NEAR_TAKEN,BR_MISP_RETIRED.ALL_BRANCHES_PS,CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,CYCLE_ACTIVITY.STALLS_L1D_MISS,CYCLE_ACTIVITY.STALLS_L2_MISS,DSB2MITE_SWITCHES.PENALTY_CYCLES,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_DURATION:cmask=1,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_DURATION,IDQ.ALL_DSB_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.DSB_UOPS,IDQ.MITE_UOPS,IDQ.MS_SWITCHES,IDQ.MS_UOPS,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ILD_STALL.LCP,INST_RETIRED.ANY,INT_MISC.RECOVERY_CYCLES,ITLB_MISSES.WALK_DURATION,L1D_PEND_MISS.PENDING,L1D_PEND_MISS.PENDING_CYCLES,LD_BLOCKS.NO_SR,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,LD_BLOCKS.STORE_FORWARD,LSD.UOPS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HITM_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_HIT_PS,MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_UOPS_RETIRED.L1_MISS,MEM_LOAD_UOPS_RETIRED.L3_HIT_PS,MEM_LOAD_UOPS_RETIRED.L3_MISS_PS,MEM_UOPS_RETIRED.ALL_STORES_PS,MEM_UOPS_RETIRED.SPLIT_STORES_PS,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD_GE_6,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.SNOOP_HITM,RESOURCE_STALLS.SB,RS_EVENTS.EMPTY_CYCLES,UOPS_EXECUTED.CYCLES_GE_1_UOP_EXEC,UOPS_EXECUTED.CYCLES_GE_2_UOPS_EXEC,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC,UOPS_EXECUTED.THREAD,UOPS_ISSUED.ANY,UOPS_RETIRED.RETIRE_SLOTS,ICACHE.MISSES,CPU_CLK_UNHALTED.THREAD_P,MACHINE_CLEARS.COUNT,RS_EVENTS.EMPTY_END,MEM_LOAD_UOPS_RETIRED.HIT_LFB,ITLB_MISSES.STLB_HIT,LSD.CYCLES_ACTIVE,LSD.CYCLES_4_UOPS,CYCLE_ACTIVITY.STALLS_MEM_ANY,OTHER_ASSISTS.ANY_WB_ASSIST,INST_RETIRED.X87,FP_ARITH_INST_RETIRED.SCALAR_SINGLE,FP_ARITH_INST_RETIRED.SCALAR_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.256B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.256B_PACKED_SINGLE,CYCLE_ACTIVITY.STALLS_TOTAL,MEM_UOPS_RETIRED.LOCK_LOADS_PS,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7,OFFCORE_REQUESTS_BUFFER.SQ_FULL,ICACHE.IFDATA_STALL</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == skylake</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="pmuEventConfig">CPU_CLK_UNHALTED.REF_TSC,CPU_CLK_UNHALTED.THREAD,INST_RETIRED.ANY,CPU_CLK_UNHALTED.THREAD_P,L1D_PEND_MISS.PENDING,MEM_LOAD_RETIRED.L1_MISS_PS,MEM_LOAD_RETIRED.FB_HIT_PS,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_DATA_RD,OFFCORE_REQUESTS_OUTSTANDING.DEMAND_DATA_RD_GE_6,BR_MISP_RETIRED.ALL_BRANCHES_PS,MACHINE_CLEARS.COUNT,MEM_LOAD_L3_HIT_RETIRED.XSNP_HITM_PS,OFFCORE_RESPONSE:request=DEMAND_RFO:response=L3_HIT.SNOOP_HITM,EXE_ACTIVITY.2_PORTS_UTIL,UOPS_RETIRED.RETIRE_SLOTS,UOPS_ISSUED.ANY,IDQ_UOPS_NOT_DELIVERED.CORE,IDQ_UOPS_NOT_DELIVERED.CYCLES_0_UOPS_DELIV.CORE,ICACHE_16B.IFDATA_STALL,ICACHE_64B.IFTAG_STALL,INT_MISC.CLEAR_RESTEER_CYCLES,DSB2MITE_SWITCHES.PENALTY_CYCLES,ILD_STALL.LCP,FP_ASSIST.ANY,OTHER_ASSISTS.ANY:sa=100003,IDQ.MS_SWITCHES,IDQ.ALL_MITE_CYCLES_ANY_UOPS,IDQ.ALL_MITE_CYCLES_4_UOPS,IDQ.ALL_DSB_CYCLES_ANY_UOPS,IDQ.ALL_DSB_CYCLES_4_UOPS,LSD.CYCLES_ACTIVE,LSD.CYCLES_4_UOPS,INT_MISC.RECOVERY_CYCLES,CYCLE_ACTIVITY.STALLS_MEM_ANY,EXE_ACTIVITY.BOUND_ON_STORES,CYCLE_ACTIVITY.STALLS_L1D_MISS,DTLB_LOAD_MISSES.STLB_HIT,DTLB_LOAD_MISSES.WALK_ACTIVE:sa=100003,LD_BLOCKS.STORE_FORWARD,LD_BLOCKS.NO_SR,LD_BLOCKS_PARTIAL.ADDRESS_ALIAS,CYCLE_ACTIVITY.STALLS_L2_MISS,CYCLE_ACTIVITY.STALLS_L3_MISS,MEM_LOAD_L3_HIT_RETIRED.XSNP_MISS_PS,MEM_LOAD_L3_HIT_RETIRED.XSNP_HIT_PS,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_L3_MISS_DEMAND_DATA_RD:sa=2000003,MEM_LOAD_RETIRED.L3_MISS_PS,MEM_LOAD_RETIRED.L3_HIT_PS,MEM_INST_RETIRED.SPLIT_STORES_PS,DTLB_STORE_MISSES.STLB_HIT,DTLB_STORE_MISSES.WALK_ACTIVE:sa=100003,EXE_ACTIVITY.EXE_BOUND_0_PORTS,EXE_ACTIVITY.1_PORTS_UTIL,ARITH.DIVIDER_ACTIVE,UOPS_EXECUTED.CYCLES_GE_3_UOPS_EXEC,IDQ.MS_UOPS,UOPS_EXECUTED.X87,UOPS_EXECUTED.THREAD,FP_ARITH_INST_RETIRED.SCALAR_SINGLE,FP_ARITH_INST_RETIRED.SCALAR_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.128B_PACKED_SINGLE,FP_ARITH_INST_RETIRED.256B_PACKED_DOUBLE,FP_ARITH_INST_RETIRED.256B_PACKED_SINGLE,OFFCORE_REQUESTS_OUTSTANDING.L3_MISS_DEMAND_DATA_RD_GE_6,L1D_PEND_MISS.FB_FULL,OFFCORE_REQUESTS_BUFFER.SQ_FULL,MEM_INST_RETIRED.LOCK_LOADS_PS,MEM_INST_RETIRED.ALL_STORES_PS,OFFCORE_REQUESTS_OUTSTANDING.CYCLES_WITH_DEMAND_RFO,UOPS_EXECUTED.CORE_CYCLES_GE_3,UOPS_DISPATCHED_PORT.PORT_0,UOPS_DISPATCHED_PORT.PORT_1,UOPS_DISPATCHED_PORT.PORT_2,UOPS_DISPATCHED_PORT.PORT_3,UOPS_DISPATCHED_PORT.PORT_4,UOPS_DISPATCHED_PORT.PORT_5,UOPS_DISPATCHED_PORT.PORT_6,UOPS_DISPATCHED_PORT.PORT_7</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == snb</ruleExpr>
    <ruleExpr>$PMU == snbep</ruleExpr>
    <ruleExpr>$PMU == ivytown</ruleExpr>
    <ruleExpr>$PMU == ivybridge</ruleExpr>
    <ruleExpr>$PMU == haswell</ruleExpr>
    <ruleExpr>$PMU == crystalwell</ruleExpr>
    <ruleExpr>$PMU == haswell_server</ruleExpr>
    <ruleExpr>$PMU == broadwell</ruleExpr>
    <ruleExpr>$PMU == broadwell_de</ruleExpr>
    <ruleExpr>$PMU == broadwell_server</ruleExpr>
    <ruleExpr>$PMU == silvermont</ruleExpr>
    <ruleExpr>$PMU == airmont</ruleExpr>
    <ruleExpr>$PMU == skylake</ruleExpr>
    <rule>
     <ruleExpr>$collectMemoryBW == true</ruleExpr>
     <collector idToAppend="runsa">
      <boolean:collectorKnob knob="collectMemBandwidth">true</boolean:collectorKnob>
     </collector>
    </rule>
   </rule>
  </rule>
 </analysis>
</bag>
